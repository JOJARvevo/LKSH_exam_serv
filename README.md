# Вступительная работа в параллель P

## Перед началом

Перед тестированием проекта скопируйте его себе на локальную машину:
```
git clone https://github.com/JOJARvevo/LKSH_exam_serv.git
```

Установите витуальное окружение вместе с зависимостями:
```
python3 -m venv venv
source venv/bin/activate
pip3 install -r BASE_LEVEL/requirements.txt
pip3 install -r ADVANCED_LEVEL/requirements.txt
```

Далее перейдите в интересующее вас решение и запустите его
Для базового решения:
```
cd BASE_LEVEL
python3 main.py
```
Для продвинутого решения:
```
cd ADVANCED_LEVEL
python3 main.py
```
## BASE LEVEL

После запуска main.py программа начнёт получать все данные от сервера, что занимает некоторое время (обычно до 2 минут в зависимости от скорости интернета и пропусной способности сервера). Как только программа выведет список игроков, она начнёт считывать пользовательский ввод. Список игроков на основе тестового сервера:
```
Aaron Ramsdale
Abdelhamid Sabiri
...
Zinedine Zidane
Zlatan Ibrahimovic
- дальше программа может считывать команды пользователя
```
Далее идёт перечень команд. Если вы ввели команду не из перечня, программа не будет ничего выводить. Закончить ввод можно нажав комбинацию ctrl+D или command+D.

### versus?

На вход команде vesus? подаётся 2 числа через пробел, являющимися id игроков. При любой ошибке, например:
- Пропущен хотя бы 1 id
- Получена строка на месте id
- Id нету в списка игроков
программа будет выводить 0.
Если все корректно, программа выведет количество матчей, в которых игроки играли против друг друга. Пример:

![versus?](media/img1.jpg)

### stats?

На вход команде stats? подаётся название команды (можно быть без кавычек). При любой ошибке, например:
- Название команды не указано
- Команды нету в списке команд
программа будет выводить 0.
Если все корректно, программа выведет количество выигранных матчей команды, количество проигранных матчей, а так же разницу забитых и пропущенных голов соответсвенно. Пример:
![stats?](media/img2.jpg)

## ADVANCED LEVEL

После запуска main.py программа начнёт получать все данные от сервера, что занимает некоторое время (обычно до 5 минут в зависимости от скорости интернета и пропусной способности сервера). В консоли выводится прогресс загрузки данных. Как только данные загрузятся, сервер начнёт принимать запросы. 
##### Если сервер отключён, приложение не будет делать к нему запросы, а использовать последние загруженные данные.

### GET /versus

К запросу к данному эндпоинту пользователь должен передать параметры "player1_id" и "player2_id". Если этих параметров нету в базе, или они некорректно переданы, приложение вернёт код ошибки 400.
Если id игроков найдены, приложение вернёт в JSON формате выдаёт следующую статистику: имена игроков, количество сыгранных матчей друг против друга, сами матчи (название команды 1-го игрока и 2-го игрока, счет команд 1-го и 2-го игрока соотвественно). Пример запроса:

![/versus](media/img3.jpg)

### GET /front/versus

Работает по аналогии с ендпоинтом /versus, однако в качестве ответа отрисовыает и возвращает html страницу с данными параметрами.
![/front/versus](media/img4.jpg)

### GET /stats

К запросу к данному эндпоинту пользователь должен передать параметр "team_name". Если параметр не найден в базе или некорректно передан, приложение вернёт код ошибки 400.
Если имя найдено, приложение вернёт в JSON формате выдаёт следующую статистику: количество выигранных матчей, количество проигранных матчей и разница между забитыми и пропущенными мячами. Пример:
![/stats](media/img5.jpg)

### GET /front/stats

Работает по аналогии с ендпоинтом /versus, однако в качестве ответа отрисовыает и возвращает html страницу с данными параметрами.
![/front/stats](media/img6.jpg)

### GET /goals

К запросу к данному эндпоинту пользователь должен передать параметр "player_id". Если параметр не найден в базе или некорректно передан, приложение вернёт код ошибки 400.
Если id игрока найден, приложение вернёт ответ в JSON формате, который описан в условии к к ADVANCED LEVEL. Пример:
![/goals](media/img7.jpg)





